# æ–—ç ´è‹ç©¹æ¸¸æˆç³»ç»Ÿå®Œæ•´æŒ‡å—
# Agentè‡ªåŠ¨å¤„ç†å¿…è¯»æ–‡æ¡£

## ğŸ“Œ é‡è¦æç¤º

**åœ¨å¤„ç†ä»»ä½•æ¸¸æˆå†…å®¹æ—¶ï¼Œä½ å¿…é¡»è€ƒè™‘ä»¥ä¸‹å››å¤§æ ¸å¿ƒç³»ç»Ÿï¼š**
1. ä¸ƒæ¡å‰§æƒ…çº¿åˆ†æ”¯ç³»ç»Ÿ
2. æ”¯çº¿ä»»åŠ¡ç³»ç»Ÿ
3. éšæœºäº‹ä»¶ç³»ç»Ÿ
4. æ–‡å­—æˆ˜æ–—ç³»ç»Ÿ

**è¿™äº›ç³»ç»Ÿå·²ç»å®Œå…¨å®ç°ï¼Œä½ å¿…é¡»åœ¨ç”Ÿæˆæ–°å†…å®¹æ—¶ç¡®ä¿å…¼å®¹æ€§å’Œè¿è´¯æ€§ï¼**

---

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

### 1. æ¸¸æˆè´¨é‡å››å¤§æ ‡å‡†

åœ¨ç”Ÿæˆä»»ä½•æ¸¸æˆå†…å®¹æ—¶ï¼Œä½ å¿…é¡»ç¡®ä¿ï¼š

| æ ‡å‡† | ç›®æ ‡åˆ†æ•° | å…³é”®è¦æ±‚ |
|------|---------|---------|
| âœ… é€‰é¡¹å¯¹è¯è‡ªç„¶æ€§ | 8/10 | å¯¹è¯è¿˜åŸåŸè‘—é£æ ¼ï¼Œé€‰é¡¹æœ‰å±‚æ¬¡ |
| âœ… ä¸–ç•Œå¼€æ”¾æ€§ | 7/10 | æ”¯æŒå¤šè·¯çº¿ï¼Œæœ‰æ”¯çº¿å’Œéšæœºäº‹ä»¶ |
| âœ… å†…å®¹ä¸°å¯Œæ€§ | 8/10 | åŒ…å«æˆ˜æ–—ã€ä»»åŠ¡ã€äº‹ä»¶ç­‰å¤šç§å…ƒç´  |
| âœ… å‰§æƒ…å¤šæ ·æ€§ | 9/10 | é€‰æ‹©è¦æœ‰å®è´¨å½±å“ï¼Œä¸èƒ½ä¼ªåˆ†æ”¯ |

### 2. ç¦æ­¢äº‹é¡¹ âŒ

- âŒ **ç»å¯¹ç¦æ­¢åˆ›å»ºä¼ªåˆ†æ”¯**ï¼šé€‰æ‹©å¿…é¡»æœ‰å®è´¨å½±å“ï¼Œä¸èƒ½åªæ˜¯æ¢ä¸ªè¯´æ³•
- âŒ **ç»å¯¹ç¦æ­¢çº¿æ€§å¼ºåˆ¶**ï¼šä¸èƒ½å¼ºè¿«ç©å®¶èµ°å›ºå®šè·¯çº¿
- âŒ **ç»å¯¹ç¦æ­¢å­¤ç«‹å†…å®¹**ï¼šæ–°å†…å®¹å¿…é¡»ä¸ç°æœ‰ç³»ç»Ÿæ•´åˆ
- âŒ **ç»å¯¹ç¦æ­¢é‡å¤äº‹ä»¶**ï¼šéšæœºäº‹ä»¶ä¸èƒ½é¢‘ç¹é‡å¤
- âŒ **ç»å¯¹ç¦æ­¢å¿½ç•¥å±æ€§**ï¼šå¿…é¡»æ£€æŸ¥ç©å®¶å±æ€§å’Œè§£é”æ¡ä»¶

### 3. å¿…é¡»äº‹é¡¹ âœ…

- âœ… **å¿…é¡»æ£€æŸ¥è·¯çº¿å…¼å®¹æ€§**ï¼šå†…å®¹è¦é€‚é…7æ¡è·¯çº¿
- âœ… **å¿…é¡»è®¾ç½®æ¡ä»¶æ£€æŸ¥**ï¼šå±æ€§ã€å…³ç³»ã€æ ‡è®°ç­‰
- âœ… **å¿…é¡»æä¾›å¤šç§é€‰æ‹©**ï¼šæ¯ä¸ªå†³ç­–ç‚¹è‡³å°‘2-3ä¸ªé€‰é¡¹
- âœ… **å¿…é¡»æœ‰çœŸå®åæœ**ï¼šé€‰æ‹©è¦å½±å“å±æ€§ã€å…³ç³»ã€è§£é”å†…å®¹
- âœ… **å¿…é¡»è€ƒè™‘æ—¶é—´çº¿**ï¼šäº‹ä»¶è§¦å‘è¦ç¬¦åˆç« èŠ‚è¿›åº¦

---

## ğŸŒŸ ç³»ç»Ÿä¸€ï¼šä¸ƒæ¡å‰§æƒ…çº¿åˆ†æ”¯ç³»ç»Ÿ

### æ•°æ®æ–‡ä»¶ä½ç½®
`/data/story_routes.json`

### ä¸ƒæ¡è·¯çº¿è¯¦æƒ…

| è·¯çº¿ID | åç§° | è§£é”æ¡ä»¶ | ä¸“å±ç« èŠ‚ | ç»“å±€ç§°å· |
|--------|------|---------|---------|---------|
| route_001_power | å¼ºè€…ä¹‹è·¯ | ä¿®ä¸ºâ‰¥7, åŠ›é‡â‰¥60, å†³å¿ƒâ‰¥10 | 31-33ç«  | éœ¸è€… |
| route_002_wisdom | æ™ºè€…ä¹‹è·¯ | æ™ºåŠ›â‰¥75, é­…åŠ›â‰¥65, éšè—å®åŠ›æ ‡è®° | 31-33ç«  | å•†ç‹ |
| route_003_balance | å‡è¡¡ä¹‹è·¯ | ä¿®ä¸ºâ‰¥7, æ™ºåŠ›â‰¥70, åŠ›é‡â‰¥50, é­…åŠ›â‰¥60 | 31-33ç«  | ç‹è€… |
| route_004_love | æƒ…ç¼˜ä¹‹è·¯ | è–°å„¿å¥½æ„Ÿâ‰¥25, é­…åŠ›â‰¥65 | 31-33ç«  | æƒ…åœ£ |
| route_005_alchemy | ç‚¼è¯ä¹‹è·¯ | æ™ºåŠ›â‰¥75, è¯è€å¥½æ„Ÿâ‰¥20, ç‚¼è¯â‰¥5 | 31-33ç«  | è¯å¸ |
| route_006_revenge | å¤ä»‡ä¹‹è·¯ | å†³å¿ƒâ‰¥15, æ„¤æ€’å€¼â‰¥10 | 31-33ç«  | é­”ç‹ |
| route_007_family | å®¶æ—ä¹‹è·¯ | çˆ¶äº²å¥½æ„Ÿâ‰¥25, å®¶æ—è´¡çŒ®â‰¥10 | 31-33ç«  | æ—é•¿ |

### Agentå¿…é¡»éµå®ˆçš„è§„åˆ™

#### ç”Ÿæˆæ–°ç« èŠ‚å†…å®¹æ—¶ï¼š

```
1. æ£€æŸ¥å½“å‰ç« èŠ‚æ˜¯å¦ä¸ºè·¯çº¿æ£€æµ‹ç‚¹
   - chapter_023, chapter_025, chapter_029, chapter_030

2. åœ¨å…³é”®é€‰æ‹©ç‚¹ï¼Œå¿…é¡»è®¾ç½®å¯¹åº”çš„æ ‡è®°
   ç¤ºä¾‹ï¼š
   {
     "choice": "é€‰æ‹©ä½è°ƒéšè—å®åŠ›",
     "flag": "hidden_strength",  // â† è®¾ç½®æ ‡è®°
     "effects": { "intelligence": 3 }
   }

3. åç»­ç« èŠ‚å¿…é¡»æ£€æµ‹è¿™äº›æ ‡è®°
   ç¤ºä¾‹ï¼š
   {
     "condition": { "flag": "hidden_strength" },
     "content": "å› ä¸ºä½ ä¸€ç›´ä½è°ƒï¼Œè§å®å¤§æ„è½»æ•Œ..."
   }

4. ç»™å‡ºè·¯çº¿æç¤º
   - åœ¨ç¬¬25ç« ã€ç¬¬29ç« ã€ç¬¬30ç« ç»™å‡ºè·¯çº¿å€¾å‘æç¤º
   - ä½¿ç”¨RouteSystem.showRouteHint()
```

#### ç”Ÿæˆè·¯çº¿ä¸“å±å†…å®¹æ—¶ï¼š

```
ç« èŠ‚ç¼–å·è§„èŒƒï¼š
- route_001_chapter_31 (å¼ºè€…ä¹‹è·¯ç¬¬31ç« )
- route_002_chapter_32 (æ™ºè€…ä¹‹è·¯ç¬¬32ç« )
...

å¿…é¡»åŒ…å«çš„å…ƒç´ ï¼š
1. è·¯çº¿ç‰¹è‰²çš„å‰§æƒ…å‘å±•
2. ä¸è·¯çº¿ä¸»é¢˜ä¸€è‡´çš„é€‰æ‹©
3. å‘ç»“å±€è¿‡æ¸¡çš„å†…å®¹
4. ä¸“å±çš„NPCäº’åŠ¨
```

### å…³é”®é€‰æ‹©ç¤ºä¾‹

**æ­£ç¡®ç¤ºä¾‹ âœ…ï¼š**
```json
{
  "node_025_010": {
    "type": "choice",
    "content": "é¢å¯¹çº³å…°å«£ç„¶çš„é€€å©šï¼Œä½ çš„ååº”æ˜¯...",
    "choices": [
      {
        "id": "choice_025_001",
        "text": "ã€å¿è€ã€‘ä¸‰åå¹´æ²³ä¸œï¼Œä¸‰åå¹´æ²³è¥¿ï¼Œè«æ¬ºå°‘å¹´ç©·",
        "next": "node_025_011a",
        "effects": {
          "determination": 5,
          "anger_value": 5
        },
        "flag": "revenge_path_hint",
        "route_affinity": "route_006_revenge"
      },
      {
        "id": "choice_025_002",
        "text": "ã€å†·é™ã€‘é€€å©šå°±é€€å©šï¼Œæˆ‘ä¼šç”¨å®åŠ›è¯æ˜æˆ‘çš„ä»·å€¼",
        "next": "node_025_011b",
        "effects": {
          "determination": 3,
          "intelligence": 3
        },
        "flag": "balanced_mindset",
        "route_affinity": "route_003_balance"
      }
    ]
  }
}
```

**é”™è¯¯ç¤ºä¾‹ âŒï¼š**
```json
{
  "choices": [
    {
      "text": "ã€æ„¤æ€’ã€‘æˆ‘å¾ˆç”Ÿæ°”",
      "next": "node_026",  // âŒ é”™è¯¯ï¼šæ²¡æœ‰åˆ†æ”¯ï¼Œç›´æ¥æ±‡èš
      "effects": {}        // âŒ é”™è¯¯ï¼šæ²¡æœ‰ä»»ä½•æ•ˆæœ
      // âŒ é”™è¯¯ï¼šæ²¡æœ‰æ ‡è®°ï¼Œåç»­æ— æ³•æ£€æµ‹
    }
  ]
}
```

---

## ğŸ“‹ ç³»ç»ŸäºŒï¼šæ”¯çº¿ä»»åŠ¡ç³»ç»Ÿ

### æ•°æ®æ–‡ä»¶ä½ç½®
`/data/side_quests.json`

### 10ä¸ªå·²å®ç°çš„æ”¯çº¿ä»»åŠ¡

| ID | ä»»åŠ¡å | ç±»å‹ | è§£é”æ¡ä»¶ | å…³é”®å¥–åŠ± |
|----|--------|------|---------|---------|
| quest_001 | è¯æé‡‡é›† | collection | ch24, è¯è€å¥½æ„Ÿâ‰¥5 | å›æ°”ä¸¹, ç‚¼è¯+1 |
| quest_002 | é«˜çº§ç‚¼è¯æœ¯ | learning | å®Œæˆquest_001 | ç‚¼è¯+3, ç§°å·"åˆçº§ç‚¼è¯å¸ˆ" |
| quest_003 | å®¶æ—å·¡é€» | patrol | ch25, çˆ¶äº²å¥½æ„Ÿâ‰¥10 | å®¶æ—è´¡çŒ®+5 |
| quest_004 | æ‹å–è¡Œæƒ…æŠ¥ | investigation | ch24, VIPå¡ | é›…å¦ƒå¥½æ„Ÿ+10 |
| quest_005 | è–°å„¿çš„ç¤¼ç‰© | crafting | ch26, è–°å„¿å¥½æ„Ÿâ‰¥15 | è§£é”æƒ…ç¼˜è·¯çº¿ |
| quest_006 | æ•™è®­è§å® | combat | ch30, ä¿®ä¸ºâ‰¥7 | ç§°å·"æ—ä¸­å¼ºè€…" |
| quest_007 | å®¶æ—ç§˜æŠ€ | learning | ch27, çˆ¶äº²å¥½æ„Ÿâ‰¥20 | ç„šå†³ç¬¬ä¸€å±‚, è§£é”å®¶æ—è·¯çº¿ |
| quest_008 | å•†ä¸šäº¤æ˜“ | business | ch24, è´¢å¯Œâ‰¥10000 | è´¢å¯Œ+50000, è§£é”æ™ºè€…è·¯çº¿ |
| quest_009 | ç¥ç§˜å±±æ´ | exploration | ch26, éšæœº20% | å¤ä»£å·è½´, çµçŸ³ |
| quest_010 | å®¿æ•ŒæŒ‘æˆ˜ | combat | ch29, å£°æœ›â‰¥20 | ç¨€æœ‰æ­¦å™¨, ç§°å· |

### Agentå¿…é¡»éµå®ˆçš„è§„åˆ™

#### è§¦å‘ä»»åŠ¡æ—¶ï¼š

```javascript
// 1. æ£€æŸ¥è§£é”æ¡ä»¶
if (chapter === "chapter_024" && relationships.yaolao >= 5) {
  QuestSystem.unlockQuest("quest_001_medicine_gathering");
}

// 2. æ˜¾ç¤ºä»»åŠ¡é€šçŸ¥
QuestSystem.showQuestNotification(quest);

// 3. æ·»åŠ åˆ°ä»»åŠ¡æ—¥å¿—
QuestSystem.addToActiveQuests(questId);
```

#### å®Œæˆä»»åŠ¡æ—¶ï¼š

```javascript
// 1. æ£€æŸ¥æ‰€æœ‰ç›®æ ‡æ˜¯å¦å®Œæˆ
const allCompleted = quest.objectives.every(obj => obj.completed);

// 2. å‘æ”¾å¥–åŠ±
if (allCompleted) {
  QuestSystem.grantRewards(quest.rewards);

  // 3. æ£€æŸ¥ä»»åŠ¡é“¾
  if (quest.quest_chain) {
    QuestSystem.unlockQuest(quest.quest_chain);
  }
}
```

#### ç”Ÿæˆæ–°ä»»åŠ¡æ—¶çš„è§„èŒƒï¼š

```json
{
  "quest_id": "quest_011_xxx",
  "name": "ä»»åŠ¡åç§°",
  "type": "collection|combat|investigation|learning|crafting|business|exploration|patrol",
  "giver": "char_xxx",  // ä»»åŠ¡å‘å¸ƒè€…
  "description": "è¯¦ç»†æè¿°",
  "unlock_condition": {
    "chapter": "chapter_xxx",
    "relationship_xxx": 15,
    "attribute_xxx": 60
  },
  "objectives": [
    {
      "id": "obj_011_01",
      "type": "collect|battle|goto|craft|talk",
      "description": "ç›®æ ‡æè¿°",
      "target": "item_xxx | enemy_xxx | location_xxx",
      "current": 0,
      "required": 3
    }
  ],
  "time_limit": 5,  // å¤©æ•°ï¼Œnullè¡¨ç¤ºæ— é™åˆ¶
  "difficulty": "easy|medium|hard",
  "rewards": {
    "experience": 200,
    "gold": 1000,
    "items": ["item_xxx"],
    "relationship_xxx": 10,
    "skill": "skill_xxx",
    "unlock_route": "route_xxx",
    "title": "ç§°å·åç§°"
  },
  "failure_consequences": {
    "relationship_xxx": -5,
    "gold": -500
  },
  "quest_chain": "quest_012_xxx",  // åç»­ä»»åŠ¡
  "repeatable": false
}
```

---

## ğŸ² ç³»ç»Ÿä¸‰ï¼šéšæœºäº‹ä»¶ç³»ç»Ÿ

### æ•°æ®æ–‡ä»¶ä½ç½®
`/data/random_events.json`

### 15ä¸ªå·²å®ç°çš„éšæœºäº‹ä»¶

**ç¤¾äº¤ç±»ï¼š**
- event_001_street_encounter - è¡—å¤´å¶é‡è–°å„¿ (25%)
- event_007_xuner_secret - è–°å„¿çš„ç§˜å¯† (12%)

**ä¿®ç‚¼ç±»ï¼š**
- event_002_cultivation_breakthrough - ä¿®ç‚¼é¡¿æ‚Ÿ (15%)
- event_009_training_accident - ä¿®ç‚¼æ„å¤– (10%)
- event_013_rain_meditation - é›¨ä¸­é¡¿æ‚Ÿ (10%)

**å†²çªç±»ï¼š**
- event_003_jiale_provocation - åŠ åˆ—å®¶æŒ‘è¡… (20%)
- event_008_family_crisis - å®¶æ—å±æœº (10%)
- event_014_betting_challenge - èµŒçº¦æŒ‘æˆ˜ (15%)

**å•†ä¸šç±»ï¼š**
- event_004_mysterious_merchant - ç¥ç§˜å•†äºº (10%)
- event_011_auction_opportunity - æ‹å–ä¼šæƒ…æŠ¥ (20%)

**æ¢ç´¢ç±»ï¼š**
- event_006_natural_treasure - å¤©æåœ°å® (8%)
- event_010_market_theft - é›†å¸‚çªƒè´¼ (18%)

**å‰§æƒ…ç±»ï¼š**
- event_005_yaolao_story - è¯è€å¾€äº‹ (15%)
- event_012_elder_teaching - é•¿è€æŒ‡ç‚¹ (12%)
- event_015_night_visitor - å¤œè®¿ç¥ç§˜äºº (8%)

### Agentå¿…é¡»éµå®ˆçš„è§„åˆ™

#### è§¦å‘äº‹ä»¶æ—¶çš„æ£€æŸ¥æ¸…å•ï¼š

```javascript
// 1. åœ°ç‚¹æ£€æŸ¥
if (currentLocation !== event.trigger_location) return false;

// 2. æ¦‚ç‡æ£€æŸ¥
if (Math.random() > event.trigger_chance) return false;

// 3. æ¡ä»¶æ£€æŸ¥
const condition = event.trigger_condition;
if (condition.chapter_range) {
  if (currentChapter < condition.chapter_range[0]) return false;
  if (currentChapter > condition.chapter_range[1]) return false;
}
if (condition.time_of_day && currentTime !== condition.time_of_day) return false;
if (condition.weather && currentWeather !== condition.weather) return false;
if (condition.relationship_xxx && relationships.xxx < condition.relationship_xxx) return false;

// 4. å†·å´æ£€æŸ¥
if (eventCooldowns[eventId] > 0) return false;

// 5. æ¯æ—¥é™åˆ¶æ£€æŸ¥
if (todayEventsCount >= 3) return false;
```

#### ç”Ÿæˆæ–°äº‹ä»¶æ—¶çš„è§„èŒƒï¼š

```json
{
  "event_id": "event_016_xxx",
  "name": "äº‹ä»¶åç§°",
  "type": "social|cultivation|conflict|merchant|exploration|story|teaching|romance|crisis|event|information|challenge|mystery|danger",
  "trigger_location": "location_xxx | location_anywhere",
  "trigger_chance": 0.15,  // 15%
  "trigger_condition": {
    "chapter_range": ["chapter_023", "chapter_030"],
    "time_of_day": ["morning", "afternoon", "evening", "night"],
    "weather": "rain|sunny|cloudy",
    "action": "cultivation|exploration",
    "relationship_xxx": 15,
    "attribute_xxx": 60,
    "flag": "xxx_flag"
  },
  "description": "äº‹ä»¶æè¿°ï¼Œè¦ç”ŸåŠ¨æœ‰è¶£",
  "dialogue": {
    "speaker": "char_xxx",
    "content": "å¯¹è¯å†…å®¹"
  },
  "choices": [
    {
      "choice_id": "choice_event_016_a",
      "text": "ã€é€‰é¡¹1ã€‘å…·ä½“è¡ŒåŠ¨",
      "condition": {  // å¯é€‰
        "intelligence": 70
      },
      "time_cost": 2,  // æ¶ˆè€—æ—¶é—´
      "effects": {
        "relationship_xxx": 5,
        "attribute_xxx": 2
      },
      "outcome": "é€‰æ‹©åçš„ç»“æœæè¿°",
      "unlock_quest": "quest_xxx",  // å¯é€‰
      "flag": "xxx_flag",  // å¯é€‰
      "battle": {  // å¯é€‰
        "enemy": "enemy_xxx",
        "difficulty": "medium"
      },
      "win_effects": {},  // æˆ˜æ–—èƒœåˆ©æ•ˆæœ
      "lose_effects": {}  // æˆ˜æ–—å¤±è´¥æ•ˆæœ
    }
  ],
  "hidden": false,  // æ˜¯å¦éšè—äº‹ä»¶ï¼ˆç‰¹æ®Šè§¦å‘ï¼‰
  "one_time_only": false  // æ˜¯å¦åªè§¦å‘ä¸€æ¬¡
}
```

### å…³é”®æ³¨æ„äº‹é¡¹

1. **äº‹ä»¶ä¸è¦å¤ªé¢‘ç¹**ï¼šæ¯å¤©æœ€å¤š3ä¸ªäº‹ä»¶
2. **å†·å´æ—¶é—´**ï¼šåŒä¸€äº‹ä»¶è‡³å°‘é—´éš”1å¤©
3. **å±æ€§è¦æ±‚**ï¼šé«˜çº§é€‰é¡¹è¦è®¾ç½®å±æ€§é—¨æ§›
4. **çœŸå®å½±å“**ï¼šäº‹ä»¶é€‰æ‹©è¦çœŸæ­£å½±å“æ¸¸æˆè¿›ç¨‹
5. **æ—¶é—´æ¶ˆè€—**ï¼šæŸäº›é€‰é¡¹è¦æ¶ˆè€—æ¸¸æˆæ—¶é—´

---

## âš”ï¸ ç³»ç»Ÿå››ï¼šæ–‡å­—æˆ˜æ–—ç³»ç»Ÿ

### æ•°æ®æ–‡ä»¶ä½ç½®
`/data/battle_system.json`

### æˆ˜æ–—æœºåˆ¶

#### åŸºç¡€å±æ€§
- **HPï¼ˆç”Ÿå‘½å€¼ï¼‰**ï¼šå½’é›¶åˆ™æˆ˜è´¥
- **Staminaï¼ˆæ–—æ°”ï¼‰**ï¼šä½¿ç”¨æŠ€èƒ½æ¶ˆè€—
- **Attackï¼ˆæ”»å‡»åŠ›ï¼‰**ï¼šå½±å“ä¼¤å®³
- **Defenseï¼ˆé˜²å¾¡åŠ›ï¼‰**ï¼šå‡å°‘å—åˆ°çš„ä¼¤å®³
- **Cultivationï¼ˆä¿®ä¸ºï¼‰**ï¼šå½±å“æ–—æ°”ä¼¤å®³
- **Speedï¼ˆé€Ÿåº¦ï¼‰**ï¼šå½±å“è¡ŒåŠ¨é¡ºåºï¼ˆæš‚æœªå®ç°ï¼‰

#### è¡ŒåŠ¨ç±»å‹
1. **æ™®é€šæ”»å‡»** - æ— æ¶ˆè€—ï¼Œ1.0å€ä¼¤å®³
2. **ä½¿ç”¨æ–—æŠ€** - æ¶ˆè€—æ–—æ°”ï¼Œé«˜å€ç‡ä¼¤å®³
3. **é˜²å¾¡** - å‡å°‘50%ä¼¤å®³
4. **ä½¿ç”¨ç‰©å“** - æ¢å¤HPæˆ–æ–—æ°”
5. **é€ƒè·‘** - 30%åŸºç¡€æˆåŠŸç‡

#### ä¼¤å®³è®¡ç®—å…¬å¼
```
æœ€ç»ˆä¼¤å®³ = åŸºç¡€ä¼¤å®³ Ã— (1 + (æ”»å‡»åŠ› - é˜²å¾¡åŠ›) / 100) Ã— æŠ€èƒ½å€ç‡ Ã— éšæœºç³»æ•°(0.9-1.1)
æš´å‡»ä¼¤å®³ = æœ€ç»ˆä¼¤å®³ Ã— 2.0
é˜²å¾¡å§¿æ€ = æœ€ç»ˆä¼¤å®³ Ã— 0.5
```

### å·²å®ç°çš„5ä¸ªæŠ€èƒ½

| æŠ€èƒ½ID | åç§° | ç­‰çº§ | æ¶ˆè€— | å€ç‡ | ç‰¹æ®Šæ•ˆæœ | å†·å´ |
|--------|------|------|------|------|---------|------|
| skill_bajibeng | å…«æå´© | ç„é˜¶é«˜çº§ | 30 | 2.5Ã— | æ— è§†20%é˜²å¾¡ | 2å›åˆ |
| skill_xizh_chuihuozhang | å¸æŒ+å¹ç«æŒ | ç„é˜¶ä¸­çº§ | 25 | 1.8Ã— | æ§åˆ¶+30%ç¼çƒ§ | 1å›åˆ |
| skill_xizh | å¸æŒ | ç„é˜¶ä½çº§ | 15 | 0.5Ã— | æ‹‰è¿‘+æ§åˆ¶1å›åˆ | 1å›åˆ |
| skill_chuihuozhang | å¹ç«æŒ | ç„é˜¶ä½çº§ | 18 | 1.3Ã— | 20%ç¼çƒ§ | 1å›åˆ |
| skill_fenjue_level1 | ç„šå†³Â·ç¬¬ä¸€å±‚ | åœ°é˜¶ä½çº§ | 40 | 3.0Ã— | +20%æ”»å‡»åŠ›3å›åˆ | 3å›åˆ |

### å·²å®ç°çš„6ç§æ•Œäºº

| æ•ŒäººID | åç§° | ç­‰çº§ | HP | æ”»å‡» | é˜²å¾¡ | éš¾åº¦ | ç‰¹æ®Šèƒ½åŠ› |
|--------|------|------|----|----|------|------|---------|
| enemy_xiaoning | è§å® | 4 | 150 | 40 | 30 | ä¸­ | å®¶æ—æ–—æŠ€ |
| enemy_jiale_members | åŠ åˆ—å®¶æ—äººÃ—3 | 5 | 200 | 50 | 35 | ä¸­ | ç¾¤ä½“æ”»å‡» |
| enemy_guardian_beast | å®ˆæŠ¤çµå…½ | 7 | 300 | 70 | 50 | éš¾ | åˆ©çˆªæµè¡€+å…½å¼çœ©æ™• |
| enemy_jiale_ao | åŠ åˆ—å¥¥ | 7 | 250 | 75 | 60 | éš¾ | é£å·+é£åˆƒé£æš´ |
| enemy_suspicious_person | å¯ç–‘äººå‘˜ | 6 | 180 | 60 | 40 | ä¸­ç­‰ | å·è¢­+çƒŸé›¾å¼¹ |
| enemy_spirit_beast | å¹½çµå…½ | 8 | 220 | 80 | 35 | å¾ˆéš¾ | å¹»å½±å¿…ä¸­+æ¶ˆå¤±é«˜é—ªé¿ |

### Agentå¿…é¡»éµå®ˆçš„è§„åˆ™

#### è§¦å‘æˆ˜æ–—æ—¶ï¼š

```javascript
// 1. æ£€æŸ¥ç©å®¶æ˜¯å¦æ»¡è¶³æˆ˜æ–—æ¡ä»¶
if (player.attributes.cultivation < requiredLevel) {
  // æ˜¾ç¤ºè­¦å‘Šæˆ–é˜»æ­¢æˆ˜æ–—
  return;
}

// 2. å¯åŠ¨æˆ˜æ–—
BattleSystem.startBattle("enemy_xxx", {
  canFlee: true,  // æ˜¯å¦å…è®¸é€ƒè·‘
  winCondition: "enemy_hp_zero",
  loseCondition: "player_hp_zero"
});

// 3. æˆ˜æ–—ç»“æŸåå¤„ç†
BattleSystem.onBattleEnd((result) => {
  if (result === "victory") {
    // å‘æ”¾å¥–åŠ±
    // æ¨è¿›ä»»åŠ¡è¿›åº¦
    // è§£é”åç»­å†…å®¹
  } else if (result === "defeat") {
    // æˆ˜è´¥æƒ©ç½š
    // å…è®¸é‡è¯•æˆ–è¿”å›
  }
});
```

#### è®¾è®¡æ–°æ•Œäººæ—¶çš„è§„èŒƒï¼š

```json
{
  "enemy_id": "enemy_xxx",
  "name": "æ•Œäººåç§°",
  "type": "human|beast|demon",
  "level": 7,  // æ–—ä¹‹æ°”æ®µä½
  "description": "æ•Œäººæè¿°",
  "stats": {
    "max_hp": 250,
    "max_stamina": 140,
    "attack": 75,
    "defense": 60,
    "cultivation": 7,
    "speed": 65
  },
  "skills": [
    {
      "skill_id": "xxx_skill",
      "name": "æŠ€èƒ½åç§°",
      "damage": 120,  // åŸºç¡€ä¼¤å®³
      "stamina_cost": 35,
      "effects": [
        {
          "type": "knockback|burn|stun|bleed|shield",
          "value": 100,
          "duration": 2,
          "chance": 0.3
        }
      ],
      "cooldown": 2,
      "condition": "hp < 30%"  // å¯é€‰ï¼šè§¦å‘æ¡ä»¶
    }
  ],
  "ai_pattern": "balanced|aggressive|defensive|tactical|hit_and_run|evasive",
  "special_dialogue": {
    "battle_start": "å¼€åœºå¯¹è¯",
    "hp_50": "åŠè¡€å¯¹è¯",
    "hp_25": "æ¿’æ­»å¯¹è¯",
    "defeat": "æˆ˜è´¥å¯¹è¯"
  },
  "drop_rewards": {
    "experience": 600,
    "gold": 5000,
    "reputation": 30,
    "items": [
      {
        "item_id": "item_xxx",
        "chance": 0.8  // æ‰è½æ¦‚ç‡
      }
    ]
  },
  "escape_chance": 0.3  // æ•Œäººé€ƒè·‘æ¦‚ç‡ï¼ˆå¯é€‰ï¼‰
}
```

#### è®¾è®¡æ–°æŠ€èƒ½æ—¶çš„è§„èŒƒï¼š

```json
{
  "skill_id": "skill_xxx",
  "name": "æŠ€èƒ½åç§°",
  "type": "physical|fire|water|wind|earth|lightning",
  "rank": "é»„é˜¶|ç„é˜¶|åœ°é˜¶|å¤©é˜¶",
  "description": "æŠ€èƒ½æè¿°",
  "stamina_cost": 30,
  "damage_multiplier": 2.0,
  "effects": [
    {
      "type": "damage|control|burn|stun|bleed|shield|armor_break|cultivation_boost",
      "value": 150,
      "attribute_scaling": "strength * 2 + cultivation * 3",
      "duration": 2,
      "chance": 0.3,
      "description": "æ•ˆæœæè¿°"
    }
  ],
  "cooldown": 2,
  "unlock_condition": {
    "chapter": "chapter_026",
    "cultivation": 6,
    "quest_completed": "quest_xxx"
  },
  "animation_text": "è§ç‚æ·±å¸ä¸€å£æ°”ï¼Œæ–—æ°”ç–¯ç‹‚æ¶Œå…¥æ‰‹è‚˜ï¼ŒçŒ›ç„¶è½°å‡ºâ€”â€”å…«æå´©ï¼"
}
```

### çŠ¶æ€æ•ˆæœç³»ç»Ÿ

| æ•ˆæœID | åç§° | ç±»å‹ | æ•ˆæœ |
|--------|------|------|------|
| burn | ç¼çƒ§ ğŸ”¥ | DoT | æ¯å›åˆå—ç«ç„°ä¼¤å®³ |
| stun | çœ©æ™• ğŸ’« | æ§åˆ¶ | æ— æ³•è¡ŒåŠ¨ |
| bleed | æµè¡€ ğŸ©¸ | DoT | æ¯å›åˆå¤±è¡€ |
| shield | æŠ¤ç›¾ ğŸ›¡ï¸ | Buff | å¸æ”¶ä¼¤å®³ |
| cultivation_boost | ä¿®ä¸ºæå‡ âš¡ | Buff | æå‡æ”»å‡»åŠ› |
| defending | é˜²å¾¡å§¿æ€ ğŸ›¡ï¸ | Buff | å‡å°‘50%ä¼¤å®³ |

---

## ğŸ® æ¸¸æˆä½“éªŒå…³é”®è¦ç´ 

### 1. å±æ€§ç³»ç»Ÿçš„é‡è¦æ€§

**æ ¸å¿ƒå±æ€§ï¼š**
```javascript
protagonist.attributes = {
  // åŸºç¡€å±æ€§
  cultivation: 5-9,        // ä¿®ä¸ºï¼ˆæ–—ä¹‹æ°”æ®µä½ï¼‰
  strength: 40-90,         // åŠ›é‡
  intelligence: 50-95,     // æ™ºåŠ›
  charisma: 50-80,         // é­…åŠ›
  determination: 5-20,     // å†³å¿ƒ

  // æ‰©å±•å±æ€§
  health: 100,             // ç”Ÿå‘½å€¼
  max_health: 100,
  stamina: 100,            // æ–—æ°”å€¼
  max_stamina: 100,
  defense: 30-60,          // é˜²å¾¡åŠ›
  speed: 30-75,            // é€Ÿåº¦

  // ç‰¹æ®Šå±æ€§
  wealth: 0-500000,        // è´¢å¯Œ
  reputation: 0-100,       // å£°æœ›
  alchemy_skill: 0-10,     // ç‚¼è¯æŠ€èƒ½
  foundation: 0-100,       // æ ¹åŸºç¨³å›ºåº¦

  // è´Ÿé¢å±æ€§
  anger_value: 0-20        // æ„¤æ€’å€¼
}
```

**å…³ç³»ç³»ç»Ÿï¼š**
```javascript
relationships = {
  char_xiaozhan: 0-100,    // çˆ¶äº²è§æˆ˜
  char_xuner: 0-100,       // è–°å„¿
  char_yaolao: 0-100,      // è¯è€
  char_yafei: 0-100,       // é›…å¦ƒ
  char_xiaoning: -50-50,   // è§å®ï¼ˆå¯ä¸ºè´Ÿï¼‰
  char_jiale: -100-0       // åŠ åˆ—å®¶ï¼ˆæ•Œå¯¹ï¼‰
}
```

**æ ‡è®°ç³»ç»Ÿï¼š**
```javascript
flags = {
  hidden_strength: true/false,     // éšè—å®åŠ›
  revenge_mindset: true/false,     // å¤ä»‡å¿ƒæ€
  balanced_mindset: true/false,    // å¹³è¡¡å¿ƒæ€
  auction_conflict: true/false,    // æ‹å–ä¼šå†²çª
  xuner_secret_hint: true/false,   // è–°å„¿ç§˜å¯†æç¤º
  mother_secret: true/false,       // æ¯äº²ç§˜å¯†
  mysterious_visitor: true/false   // ç¥ç§˜è®¿å®¢æ ‡è®°
}
```

### 2. æ¡ä»¶æ£€æŸ¥çš„æ ‡å‡†å†™æ³•

```javascript
// âœ… æ­£ç¡®çš„æ¡ä»¶æ£€æŸ¥
{
  "condition": {
    "cultivation": 7,                    // ä¿®ä¸ºè‡³å°‘ç¬¬7æ®µ
    "intelligence": 70,                  // æ™ºåŠ›è‡³å°‘70
    "relationship_yaolao": 15,           // è¯è€å¥½æ„Ÿè‡³å°‘15
    "flag": "hidden_strength",           // éœ€è¦éšè—å®åŠ›æ ‡è®°
    "quest_completed": "quest_001",      // å®Œæˆç‰¹å®šä»»åŠ¡
    "item": "item_vip_card",            // æ‹¥æœ‰ç‰¹å®šç‰©å“
    "wealth": 10000,                     // è´¢å¯Œè‡³å°‘10000
    "chapter": "chapter_025"             // ç‰¹å®šç« èŠ‚æˆ–ä¹‹å
  }
}

// âŒ é”™è¯¯çš„æ¡ä»¶æ£€æŸ¥
{
  "condition": {}  // ç©ºæ¡ä»¶ï¼Œä»»ä½•äººéƒ½èƒ½è§¦å‘
}
```

### 3. é€‰æ‹©è®¾è®¡çš„æœ€ä½³å®è·µ

**æ¯ä¸ªé€‰æ‹©å¿…é¡»åŒ…å«ï¼š**

1. **æ¸…æ™°çš„æ–‡æœ¬** - ä½¿ç”¨ã€æ ‡ç­¾ã€‘åŒºåˆ†é€‰é¡¹ç±»å‹
2. **å±æ€§è¦æ±‚** - é«˜çº§é€‰é¡¹éœ€è¦æ¡ä»¶
3. **çœŸå®æ•ˆæœ** - æ”¹å˜å±æ€§ã€å…³ç³»ã€æ ‡è®°
4. **åæœæè¿°** - è®©ç©å®¶çŸ¥é“é€‰æ‹©çš„å½±å“
5. **ä¸åŒåˆ†æ”¯** - ä¸èƒ½éƒ½æ±‡èšåˆ°åŒä¸€èŠ‚ç‚¹

**é€‰æ‹©ç±»å‹æ ‡ç­¾ï¼š**
- ã€è§‚å¯Ÿã€‘- éœ€è¦é«˜æ™ºåŠ›
- ã€è¯¢é—®ã€‘- ç¤¾äº¤é€‰é¡¹
- ã€å†·é™ã€‘- ç†æ™ºé€‰é¡¹
- ã€æ„¤æ€’ã€‘- æƒ…ç»ªé€‰é¡¹ï¼Œå¯èƒ½å¢åŠ anger_value
- ã€æˆ˜æ–—ã€‘- éœ€è¦é«˜ä¿®ä¸º/åŠ›é‡
- ã€æ™ºå–ã€‘- éœ€è¦é«˜æ™ºåŠ›
- ã€å¿è€ã€‘- å¢åŠ å†³å¿ƒ
- ã€å…³å¿ƒã€‘- å¢åŠ å…³ç³»
- ã€ä¿®ç‚¼ã€‘- ä¸“æ³¨ä¿®ç‚¼
- ã€å•†ä¸šã€‘- å•†ä¸šå¤´è„‘

### 4. ç« èŠ‚ç¼–å·è§„èŒƒ

**ä¸»çº¿ç« èŠ‚ï¼š** chapter_023 - chapter_030 (å·²å®ç°)
**è·¯çº¿ä¸“å±ç« èŠ‚ï¼š** route_001_chapter_31 (ç¬¬31-33ç« ï¼Œ7æ¡è·¯çº¿å„3ç« )
**æ”¯çº¿ç« èŠ‚ï¼š** side_chapter_xxx (å¯é€‰)

### 5. ç‰©å“å’ŒæŠ€èƒ½è§£é”

**ç‰©å“IDè§„èŒƒï¼š**
```
item_zhujiyeling - ç­‘åŸºçµæ¶²
item_huiqidan - å›æ°”ä¸¹
item_vip_card - VIPè´µå®¾å¡
item_ancient_scroll - å¤ä»£å·è½´
item_spirit_stone - çµçŸ³
item_rare_weapon - ç¨€æœ‰æ­¦å™¨
```

**æŠ€èƒ½IDè§„èŒƒï¼š**
```
skill_bajibeng - å…«æå´©
skill_xizh - å¸æŒ
skill_chuihuozhang - å¹ç«æŒ
skill_xizh_chuihuozhang - å¸æŒ+å¹ç«æŒç»„åˆ
skill_fenjue_level1 - ç„šå†³ç¬¬ä¸€å±‚
```

---

## ğŸ“ Agentå·¥ä½œæµç¨‹

### ç”Ÿæˆæ–°ç« èŠ‚å†…å®¹æ—¶çš„å®Œæ•´æµç¨‹

```
ç¬¬ä¸€æ­¥ï¼šåˆ†æç« èŠ‚å®šä½
â”œâ”€â”€ æ˜¯ä¸»çº¿ç« èŠ‚è¿˜æ˜¯è·¯çº¿ç« èŠ‚ï¼Ÿ
â”œâ”€â”€ å½“å‰ç« èŠ‚æ˜¯å¦ä¸ºè·¯çº¿æ£€æµ‹ç‚¹ï¼Ÿ
â”œâ”€â”€ ç©å®¶å½“å‰å¯èƒ½è§£é”å“ªäº›è·¯çº¿ï¼Ÿ
â””â”€â”€ æ˜¯å¦éœ€è¦è§¦å‘æ”¯çº¿ä»»åŠ¡æˆ–éšæœºäº‹ä»¶ï¼Ÿ

ç¬¬äºŒæ­¥ï¼šè®¾è®¡å‰§æƒ…èŠ‚ç‚¹
â”œâ”€â”€ è‡³å°‘10ä¸ªèŠ‚ç‚¹ï¼ˆä¸°å¯Œåº¦ï¼‰
â”œâ”€â”€ 2-3ä¸ªé€‰æ‹©ç‚¹ï¼ˆäº’åŠ¨æ€§ï¼‰
â”œâ”€â”€ æ¯ä¸ªé€‰æ‹©è‡³å°‘2ä¸ªé€‰é¡¹
â””â”€â”€ ç¡®ä¿é€‰æ‹©æœ‰å®è´¨åˆ†æ”¯ï¼ˆä¸æ±‡èšï¼‰

ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®æ¡ä»¶å’Œæ•ˆæœ
â”œâ”€â”€ é€‰æ‹©æ¡ä»¶ï¼ˆå±æ€§ã€å…³ç³»ã€æ ‡è®°ï¼‰
â”œâ”€â”€ é€‰æ‹©æ•ˆæœï¼ˆæ”¹å˜å±æ€§ã€è®¾ç½®æ ‡è®°ï¼‰
â”œâ”€â”€ åç»­æ£€æµ‹ï¼ˆæ£€æŸ¥æ ‡è®°ã€åˆ†æ”¯å‰§æƒ…ï¼‰
â””â”€â”€ è·¯çº¿å€¾å‘ï¼ˆè®°å½•ç©å®¶å€¾å‘ï¼‰

ç¬¬å››æ­¥ï¼šæ•´åˆæ¸¸æˆç³»ç»Ÿ
â”œâ”€â”€ æ˜¯å¦è§¦å‘æˆ˜æ–—ï¼Ÿâ†’ è°ƒç”¨BattleSystem
â”œâ”€â”€ æ˜¯å¦è§£é”ä»»åŠ¡ï¼Ÿâ†’ è°ƒç”¨QuestSystem
â”œâ”€â”€ æ˜¯å¦è§¦å‘äº‹ä»¶ï¼Ÿâ†’ è°ƒç”¨RandomEventSystem
â””â”€â”€ æ˜¯å¦è§£é”è·¯çº¿ï¼Ÿâ†’ è°ƒç”¨RouteSystem

ç¬¬äº”æ­¥ï¼šè´¨é‡æ£€æŸ¥
â”œâ”€â”€ å¯¹è¯æ˜¯å¦è‡ªç„¶ï¼Ÿ
â”œâ”€â”€ é€‰æ‹©æ˜¯å¦æœ‰æ„ä¹‰ï¼Ÿ
â”œâ”€â”€ æ˜¯å¦æœ‰çœŸå®åˆ†æ”¯ï¼Ÿ
â”œâ”€â”€ æ˜¯å¦å…¼å®¹æ‰€æœ‰è·¯çº¿ï¼Ÿ
â””â”€â”€ æ˜¯å¦ç¬¦åˆå››å¤§è´¨é‡æ ‡å‡†ï¼Ÿ
```

### è´¨é‡æ£€æŸ¥æ¸…å• âœ…

åœ¨æäº¤ä»»ä½•å†…å®¹å‰ï¼Œå¿…é¡»ç¡®è®¤ï¼š

- [ ] å¯¹è¯è¿˜åŸåŸè‘—é£æ ¼ï¼ˆè¯è€ã€é›…å¦ƒã€è§ç‚ç­‰è§’è‰²æ€§æ ¼ï¼‰
- [ ] æ¯ä¸ªé€‰æ‹©æœ‰ã€æ ‡ç­¾ã€‘å’Œæ¸…æ™°æè¿°
- [ ] é«˜çº§é€‰é¡¹æœ‰å±æ€§è¦æ±‚
- [ ] é€‰æ‹©æœ‰çœŸå®æ•ˆæœï¼ˆå±æ€§+2ã€å…³ç³»+5ã€è®¾ç½®æ ‡è®°ç­‰ï¼‰
- [ ] é‡è¦é€‰æ‹©è®¾ç½®äº†æ ‡è®°ï¼ˆflagï¼‰
- [ ] åç»­å†…å®¹æ£€æµ‹äº†è¿™äº›æ ‡è®°
- [ ] ä¸å­˜åœ¨ä¼ªåˆ†æ”¯ï¼ˆé€‰æ‹©ååˆæ±‡èšï¼‰
- [ ] å…¼å®¹7æ¡è·¯çº¿ï¼ˆæˆ–æ˜ç¡®è·¯çº¿ä¸“å±ï¼‰
- [ ] åŒ…å«è¶³å¤Ÿçš„äº’åŠ¨å…ƒç´ ï¼ˆæˆ˜æ–—ã€ä»»åŠ¡ã€äº‹ä»¶ï¼‰
- [ ] æ–‡æœ¬ç”ŸåŠ¨æœ‰è¶£ï¼Œä¸æ¯ç‡¥

---

## ğŸš« å¸¸è§é”™è¯¯å’Œå¦‚ä½•é¿å…

### é”™è¯¯1ï¼šä¼ªåˆ†æ”¯è®¾è®¡ âŒ

**é”™è¯¯ç¤ºä¾‹ï¼š**
```json
{
  "node_030_005": {
    "choices": [
      { "text": "é€‰é¡¹A", "next": "node_030_006a" },
      { "text": "é€‰é¡¹B", "next": "node_030_006b" }
    ]
  },
  "node_030_006a": { "content": "ä½ é€‰æ‹©äº†A...", "next": "node_030_007" },
  "node_030_006b": { "content": "ä½ é€‰æ‹©äº†B...", "next": "node_030_007" },
  "node_030_007": { "content": "ä¸ç®¡ä½ é€‰ä»€ä¹ˆï¼Œå‰§æƒ…ç»§ç»­..." }
}
```

**æ­£ç¡®åšæ³•ï¼š**
```json
{
  "node_030_005": {
    "choices": [
      {
        "text": "é€‰é¡¹A",
        "next": "node_030_006a",
        "flag": "chose_path_a",
        "effects": { "intelligence": 3 }
      },
      {
        "text": "é€‰é¡¹B",
        "next": "node_030_006b",
        "flag": "chose_path_b",
        "effects": { "determination": 3 }
      }
    ]
  },
  "node_030_006a": {
    "content": "ä½ é€‰æ‹©äº†Aï¼Œæ¥ä¸‹æ¥èµ°æ™ºæ…§è·¯çº¿...",
    "next": "node_030_007a"  // ç»§ç»­åˆ†æ”¯
  },
  "node_030_006b": {
    "content": "ä½ é€‰æ‹©äº†Bï¼Œæ¥ä¸‹æ¥èµ°åŠ›é‡è·¯çº¿...",
    "next": "node_030_007b"  // ç»§ç»­åˆ†æ”¯
  }
}
```

### é”™è¯¯2ï¼šå¿½ç•¥æ¡ä»¶æ£€æŸ¥ âŒ

**é”™è¯¯ç¤ºä¾‹ï¼š**
```json
{
  "text": "ã€æˆ˜æ–—ã€‘ç›´æ¥åŠ¨æ‰‹",
  "next": "battle_node"
  // âŒ æ²¡æœ‰æ£€æŸ¥ç©å®¶ä¿®ä¸ºï¼Œå¼±å°ç©å®¶ä¹Ÿèƒ½é€‰
}
```

**æ­£ç¡®åšæ³•ï¼š**
```json
{
  "text": "ã€æˆ˜æ–—ã€‘ç›´æ¥åŠ¨æ‰‹",
  "condition": {
    "cultivation": 7,
    "strength": 60
  },
  "next": "battle_node",
  "disabled_hint": "éœ€è¦ä¿®ä¸ºè‡³å°‘ç¬¬7æ®µï¼ŒåŠ›é‡è‡³å°‘60"
}
```

### é”™è¯¯3ï¼šé€‰æ‹©æ— åæœ âŒ

**é”™è¯¯ç¤ºä¾‹ï¼š**
```json
{
  "text": "ã€å†³å®šã€‘æˆ‘è¦å˜å¼º",
  "next": "node_xxx"
  // âŒ æ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œç©å®¶æ„Ÿè§‰é€‰æ‹©æ— æ„ä¹‰
}
```

**æ­£ç¡®åšæ³•ï¼š**
```json
{
  "text": "ã€å†³å®šã€‘æˆ‘è¦å˜å¼º",
  "next": "node_xxx",
  "effects": {
    "determination": 5,
    "strength": 2
  },
  "flag": "power_focused",
  "route_affinity": "route_001_power"
}
```

### é”™è¯¯4ï¼šå†…å®¹å­¤ç«‹ âŒ

**é”™è¯¯ç¤ºä¾‹ï¼š**
```json
// åˆ›å»ºäº†æ–°ä»»åŠ¡ï¼Œä½†æ²¡æœ‰åœ¨ç« èŠ‚ä¸­è§¦å‘
{
  "quest_id": "quest_011_new",
  // ...
}
// âŒ ç©å®¶æ°¸è¿œæ— æ³•æ¥åˆ°è¿™ä¸ªä»»åŠ¡
```

**æ­£ç¡®åšæ³•ï¼š**
```json
// åœ¨ç« èŠ‚çš„æŸä¸ªèŠ‚ç‚¹è§¦å‘ä»»åŠ¡
{
  "node_024_008": {
    "content": "é›…å¦ƒçªç„¶æ‰¾åˆ°ä½ ï¼Œè¯´æœ‰ä»¶äº‹éœ€è¦ä½ å¸®å¿™...",
    "trigger_quest": "quest_011_new",
    "next": "node_024_009"
  }
}
```

---

## ğŸ’¡ åˆ›æ„æŒ‡å—

### å¦‚ä½•åˆ›é€ æœ‰è¶£çš„å†…å®¹

1. **åˆ©ç”¨åŸè‘—å…ƒç´ **
   - è¯è€çš„é«˜å‚²å’ŒæŠ¤çŸ­
   - è–°å„¿çš„æ¸©æŸ”å’Œç¥ç§˜
   - åŠ åˆ—å®¶çš„æ•Œå¯¹å…³ç³»
   - çº³å…°å«£ç„¶çš„é€€å©š
   - ä¸‰å¹´ä¹‹çº¦

2. **åˆ¶é€ å†²çªå’Œé€‰æ‹©**
   - åŠ›é‡ vs æ™ºæ…§
   - å¤ä»‡ vs åŸè°…
   - é€Ÿæˆ vs ç¨³å¥
   - ä¸ªäºº vs å®¶æ—

3. **ç»™äºˆçœŸå®å¥–åŠ±**
   - å±æ€§æå‡
   - æŠ€èƒ½è§£é”
   - è·¯çº¿è§£é”
   - ç‰¹æ®Šç§°å·
   - ä¸“å±å‰§æƒ…

4. **åˆ›é€ æƒŠå–œæ—¶åˆ»**
   - è–°å„¿èº«ä»½æ­æ™“
   - è¯è€çœŸå®å®åŠ›
   - è§ç‚å¤©èµ‹è§‰é†’
   - ç¥ç§˜äººç‰©å‡ºç°
   - æ„å¤–çš„å®ç‰©

---

## ğŸ¯ ç›®æ ‡ä¸æ„¿æ™¯

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ‰“é€ ä¸€ä¸ªï¼š
- âœ… å¯¹è¯è‡ªç„¶ï¼ˆ8/10ï¼‰
- âœ… ä¸–ç•Œå¼€æ”¾ï¼ˆ7/10ï¼‰
- âœ… å†…å®¹ä¸°å¯Œï¼ˆ8/10ï¼‰
- âœ… å‰§æƒ…å¤šæ ·ï¼ˆ9/10ï¼‰
- âœ… **æ€»ä½“è¯„åˆ†8/10**çš„é«˜è´¨é‡æ¸¸æˆ

æ¯ä¸€æ¬¡Agentå¤„ç†ï¼Œéƒ½è¦é—®è‡ªå·±ï¼š
1. è¿™ä¸ªå†…å®¹æœ‰è¶£å—ï¼Ÿ
2. ç©å®¶çš„é€‰æ‹©æœ‰æ„ä¹‰å—ï¼Ÿ
3. æ˜¯å¦å°Šé‡äº†ç°æœ‰ç³»ç»Ÿï¼Ÿ
4. æ˜¯å¦æå‡äº†æ¸¸æˆä½“éªŒï¼Ÿ

**è®°ä½ï¼šç©å®¶çš„ä½“éªŒæ°¸è¿œæ˜¯ç¬¬ä¸€ä½çš„ï¼**

---

## ğŸ“š å‚è€ƒæ–‡æ¡£

- `/docs/GAME_EVALUATION_REPORT.md` - è¯¦ç»†è¯„ä¼°æŠ¥å‘Š
- `/docs/GAME_UPDATE_SUMMARY.md` - ç³»ç»Ÿæ›´æ–°æ€»ç»“
- `/data/story_routes.json` - è·¯çº¿æ•°æ®
- `/data/side_quests.json` - ä»»åŠ¡æ•°æ®
- `/data/random_events.json` - äº‹ä»¶æ•°æ®
- `/data/battle_system.json` - æˆ˜æ–—æ•°æ®

---

**ç‰ˆæœ¬ï¼š** 2.0.0
**æœ€åæ›´æ–°ï¼š** 2026-01-13
**ä½œè€…ï¼š** Claude Code Team

**é‡è¦æé†’ï¼šè¿™ä¸æ˜¯å»ºè®®ï¼Œè€Œæ˜¯å¿…é¡»éµå®ˆçš„è§„èŒƒï¼**
