{
  "battle_system": {
    "combat_mechanics": {
      "turn_based": true,
      "max_rounds": 20,
      "escape_chance_base": 0.3,
      "critical_chance_base": 0.1,
      "dodge_chance_base": 0.15
    },

    "action_types": [
      {
        "type": "attack",
        "name": "æ™®é€šæ”»å‡»",
        "description": "ä½¿ç”¨åŸºç¡€æ”»å‡»å¯¹æ•Œäººé€ æˆä¼¤å®³",
        "stamina_cost": 0,
        "damage_multiplier": 1.0,
        "cooldown": 0
      },
      {
        "type": "skill",
        "name": "ä½¿ç”¨æ–—æŠ€",
        "description": "ä½¿ç”¨å­¦ä¼šçš„æ–—æŠ€æ”»å‡»æ•Œäºº",
        "stamina_cost_varies": true,
        "damage_multiplier_varies": true,
        "cooldown_varies": true
      },
      {
        "type": "defend",
        "name": "é˜²å¾¡",
        "description": "è¿›å…¥é˜²å¾¡å§¿æ€ï¼Œå‡å°‘50%ä¼¤å®³",
        "stamina_cost": 0,
        "damage_reduction": 0.5,
        "cooldown": 0
      },
      {
        "type": "item",
        "name": "ä½¿ç”¨ç‰©å“",
        "description": "ä½¿ç”¨èƒŒåŒ…ä¸­çš„æ¶ˆè€—å“",
        "stamina_cost": 0,
        "cooldown": 0
      },
      {
        "type": "flee",
        "name": "é€ƒè·‘",
        "description": "å°è¯•é€ƒç¦»æˆ˜æ–—",
        "stamina_cost": 20,
        "success_rate_varies": true,
        "cooldown": 0
      }
    ],

    "damage_calculation": {
      "formula": "base_damage * (1 + (æ”»å‡»åŠ› - é˜²å¾¡åŠ›) / 100) * skill_multiplier * random(0.9, 1.1)",
      "critical_multiplier": 2.0,
      "attribute_influence": {
        "strength": "å½±å“ç‰©ç†æ”»å‡»",
        "cultivation": "å½±å“æ–—æ°”ä¼¤å®³",
        "intelligence": "å½±å“æŠ€èƒ½æ•ˆæœ"
      }
    }
  },

  "skills": [
    {
      "skill_id": "skill_bajibeng",
      "name": "å…«æå´©",
      "type": "physical",
      "rank": "ç„é˜¶é«˜çº§",
      "description": "ä»¥è‚˜å‡»è½°å‡ºï¼Œå¨åŠ›å¼ºå¤§çš„æ–—æŠ€",
      "stamina_cost": 30,
      "damage_multiplier": 2.5,
      "effects": [
        {
          "type": "damage",
          "value": 150,
          "attribute_scaling": "strength * 2 + cultivation * 3"
        },
        {
          "type": "armor_break",
          "value": 0.2,
          "description": "æ— è§†æ•Œäºº20%é˜²å¾¡"
        }
      ],
      "cooldown": 2,
      "unlock_condition": {
        "chapter": "chapter_026",
        "cultivation": 6
      },
      "animation_text": "è§ç‚æ·±å¸ä¸€å£æ°”ï¼Œæ–—æ°”ç–¯ç‹‚æ¶Œå…¥æ‰‹è‚˜ï¼ŒçŒ›ç„¶è½°å‡ºâ€”â€”å…«æå´©ï¼"
    },
    {
      "skill_id": "skill_xizh_chuihuozhang",
      "name": "å¸æŒ+å¹ç«æŒç»„åˆ",
      "type": "combo",
      "rank": "ç„é˜¶ä¸­çº§",
      "description": "å…ˆç”¨å¸æŒæ§åˆ¶æ•Œäººï¼Œå†ä»¥å¹ç«æŒæ”»å‡»",
      "stamina_cost": 25,
      "damage_multiplier": 1.8,
      "effects": [
        {
          "type": "control",
          "duration": 1,
          "description": "æ•Œäººæ— æ³•é—ªé¿ä¸‹ä¸€æ¬¡æ”»å‡»"
        },
        {
          "type": "fire_damage",
          "value": 100,
          "attribute_scaling": "cultivation * 2"
        },
        {
          "type": "burn",
          "chance": 0.3,
          "duration": 2,
          "damage_per_turn": 20
        }
      ],
      "cooldown": 1,
      "unlock_condition": {
        "chapter": "chapter_028"
      },
      "animation_text": "è§ç‚å³æ‰‹å¸æŒï¼Œå°†æ•Œäººæ‹‰è¿‘ï¼Œå·¦æ‰‹å¹ç«æŒç¬é—´æ‰“å‡ºï¼Œç«ç„°åæ²¡æ•Œäººï¼"
    },
    {
      "skill_id": "skill_xizh",
      "name": "å¸æŒ",
      "type": "control",
      "rank": "ç„é˜¶ä½çº§",
      "description": "å¸å–å¯¹æ‰‹ï¼Œå°†å…¶æ‹‰å‘è‡ªå·±",
      "stamina_cost": 15,
      "damage_multiplier": 0.5,
      "effects": [
        {
          "type": "pull",
          "description": "å°†æ•Œäººæ‹‰è¿‘"
        },
        {
          "type": "control",
          "duration": 1
        },
        {
          "type": "damage",
          "value": 50
        }
      ],
      "cooldown": 1,
      "animation_text": "è§ç‚æ‰‹æŒä¸€å¸ï¼Œå¼ºå¤§çš„å¸åŠ›å°†æ•Œäººæ‹‰äº†è¿‡æ¥ï¼"
    },
    {
      "skill_id": "skill_chuihuozhang",
      "name": "å¹ç«æŒ",
      "type": "fire",
      "rank": "ç„é˜¶ä½çº§",
      "description": "ç«ç„°æ”»å‡»æ–—æŠ€",
      "stamina_cost": 18,
      "damage_multiplier": 1.3,
      "effects": [
        {
          "type": "fire_damage",
          "value": 80,
          "attribute_scaling": "cultivation * 1.5"
        },
        {
          "type": "burn",
          "chance": 0.2,
          "duration": 2,
          "damage_per_turn": 15
        }
      ],
      "cooldown": 1,
      "animation_text": "è§ç‚ä¸€æŒæ¨å‡ºï¼Œç‚½çƒ­çš„ç«ç„°å‘¼å•¸è€Œå‡ºï¼"
    },
    {
      "skill_id": "skill_fenjue_level1",
      "name": "ç„šå†³Â·ç¬¬ä¸€å±‚",
      "type": "cultivation",
      "rank": "åœ°é˜¶ä½çº§",
      "description": "è§å®¶ç§˜æŠ€ç„šå†³çš„ç¬¬ä¸€å±‚",
      "stamina_cost": 40,
      "damage_multiplier": 3.0,
      "effects": [
        {
          "type": "fire_damage",
          "value": 200,
          "attribute_scaling": "cultivation * 4"
        },
        {
          "type": "cultivation_boost",
          "value": 0.2,
          "duration": 3,
          "description": "æå‡20%æ”»å‡»åŠ›"
        }
      ],
      "cooldown": 3,
      "unlock_condition": {
        "quest_completed": "quest_007_secret_technique"
      },
      "animation_text": "è§ç‚è¿è½¬ç„šå†³ï¼Œææ€–çš„ç«ç„°ä»ä½“å†…çˆ†å‘ï¼Œç„šå¤©ç…®æµ·ï¼"
    }
  ],

  "enemies": [
    {
      "enemy_id": "enemy_xiaoning",
      "name": "è§å®",
      "type": "human",
      "level": 4,
      "description": "è§å®¶æ—äººï¼Œä¿®ä¸ºç¬¬å››æ®µæ–—ä¹‹æ°”",
      "stats": {
        "max_hp": 150,
        "max_stamina": 100,
        "attack": 40,
        "defense": 30,
        "cultivation": 4,
        "speed": 35
      },
      "skills": [
        {
          "skill_id": "basic_punch",
          "name": "åŸºç¡€æ‹³æ³•",
          "damage": 50,
          "stamina_cost": 10
        },
        {
          "skill_id": "family_technique",
          "name": "å®¶æ—æ–—æŠ€",
          "damage": 80,
          "stamina_cost": 25,
          "cooldown": 2
        }
      ],
      "ai_pattern": "balanced",
      "drop_rewards": {
        "experience": 100,
        "gold": 500,
        "items": [
          { "item_id": "item_healing_potion", "chance": 0.5 }
        ]
      },
      "defeat_dialogue": "æˆ‘...æˆ‘è¾“äº†ã€‚è§ç‚ï¼Œæˆ‘å°çœ‹ä½ äº†..."
    },
    {
      "enemy_id": "enemy_jiale_members",
      "name": "åŠ åˆ—å®¶æ—äººï¼ˆ3äººï¼‰",
      "type": "group",
      "level": 5,
      "description": "ä¸‰ä¸ªåŠ åˆ—å®¶çš„å¹´è½»ä¿®ç‚¼è€…",
      "stats": {
        "max_hp": 200,
        "max_stamina": 120,
        "attack": 50,
        "defense": 35,
        "cultivation": 5,
        "speed": 40
      },
      "skills": [
        {
          "skill_id": "group_attack",
          "name": "ç¾¤ä½“æ”»å‡»",
          "damage": 60,
          "stamina_cost": 15,
          "multi_hit": 3
        },
        {
          "skill_id": "wind_blade",
          "name": "é£åˆƒ",
          "damage": 90,
          "stamina_cost": 30,
          "cooldown": 2
        }
      ],
      "ai_pattern": "aggressive",
      "drop_rewards": {
        "experience": 200,
        "gold": 1000,
        "reputation": 10,
        "items": [
          { "item_id": "item_wind_crystal", "chance": 0.3 }
        ]
      }
    },
    {
      "enemy_id": "enemy_guardian_beast",
      "name": "å®ˆæŠ¤çµå…½",
      "type": "beast",
      "level": 7,
      "description": "å®ˆæŠ¤å¤©æåœ°å®çš„å¼ºå¤§çµå…½",
      "stats": {
        "max_hp": 300,
        "max_stamina": 150,
        "attack": 70,
        "defense": 50,
        "cultivation": 7,
        "speed": 55
      },
      "skills": [
        {
          "skill_id": "claw_strike",
          "name": "åˆ©çˆªæ’•è£‚",
          "damage": 100,
          "stamina_cost": 20,
          "effects": [
            { "type": "bleed", "duration": 2, "damage_per_turn": 15 }
          ]
        },
        {
          "skill_id": "roar",
          "name": "å…½å¼",
          "damage": 0,
          "stamina_cost": 30,
          "effects": [
            { "type": "stun", "chance": 0.4, "duration": 1 }
          ],
          "cooldown": 3
        },
        {
          "skill_id": "frenzy",
          "name": "ç‹‚æš´",
          "damage": 150,
          "stamina_cost": 50,
          "condition": "hp < 30%",
          "cooldown": 5
        }
      ],
      "ai_pattern": "defensive_until_low_hp",
      "drop_rewards": {
        "experience": 500,
        "gold": 2000,
        "items": [
          { "item_id": "item_beast_core", "chance": 0.8 },
          { "item_id": "item_spirit_essence", "chance": 0.5 }
        ]
      }
    },
    {
      "enemy_id": "enemy_jiale_ao",
      "name": "åŠ åˆ—å¥¥",
      "type": "human",
      "level": 7,
      "description": "åŠ åˆ—å®¶å¤©æ‰ï¼ŒæŒæ¡é£å·å†³",
      "stats": {
        "max_hp": 250,
        "max_stamina": 140,
        "attack": 75,
        "defense": 60,
        "cultivation": 7,
        "speed": 65
      },
      "skills": [
        {
          "skill_id": "wind_roll",
          "name": "é£å·",
          "damage": 120,
          "stamina_cost": 35,
          "effects": [
            { "type": "knockback", "description": "å‡»é€€å¯¹æ‰‹" }
          ],
          "cooldown": 2
        },
        {
          "skill_id": "wind_blade_storm",
          "name": "é£åˆƒé£æš´",
          "damage": 90,
          "stamina_cost": 40,
          "multi_hit": 4,
          "cooldown": 3
        },
        {
          "skill_id": "wind_barrier",
          "name": "é£ä¹‹å£",
          "damage": 0,
          "stamina_cost": 25,
          "effects": [
            { "type": "shield", "value": 100, "duration": 2 }
          ],
          "cooldown": 4
        }
      ],
      "ai_pattern": "tactical",
      "special_dialogue": {
        "battle_start": "è§ç‚ï¼Œè®©ä½ è§è¯†é£å·å†³çš„å¨åŠ›ï¼",
        "hp_50": "å¯æ¶...ç«Ÿç„¶è¢«ä½ é€¼åˆ°è¿™ä¸ªåœ°æ­¥ï¼",
        "defeat": "æˆ‘...æˆ‘è¾“äº†ã€‚è§å®¶ï¼Œæœç„¶ä¸å¯å°è§‘..."
      },
      "drop_rewards": {
        "experience": 600,
        "gold": 5000,
        "reputation": 30,
        "items": [
          { "item_id": "item_rare_weapon", "chance": 1.0 }
        ]
      }
    },
    {
      "enemy_id": "enemy_suspicious_person",
      "name": "å¯ç–‘äººå‘˜",
      "type": "human",
      "level": 6,
      "description": "åœ¨è§å®¶å‘¨è¾¹å¾˜å¾Šçš„å¯ç–‘äººç‰©",
      "stats": {
        "max_hp": 180,
        "max_stamina": 110,
        "attack": 60,
        "defense": 40,
        "cultivation": 6,
        "speed": 50
      },
      "skills": [
        {
          "skill_id": "sneak_attack",
          "name": "å·è¢­",
          "damage": 100,
          "stamina_cost": 30,
          "first_turn_only": true
        },
        {
          "skill_id": "smoke_bomb",
          "name": "çƒŸé›¾å¼¹",
          "damage": 0,
          "stamina_cost": 20,
          "effects": [
            { "type": "miss_chance", "value": 0.5, "duration": 2 }
          ],
          "cooldown": 3
        }
      ],
      "ai_pattern": "hit_and_run",
      "escape_chance": 0.3,
      "drop_rewards": {
        "experience": 150,
        "gold": 800,
        "items": [
          { "item_id": "item_information_scroll", "chance": 0.6 }
        ]
      }
    },
    {
      "enemy_id": "enemy_spirit_beast",
      "name": "å¹½çµå…½",
      "type": "beast",
      "level": 8,
      "description": "ç¨€æœ‰çš„çµå…½ï¼Œé€Ÿåº¦æå¿«",
      "stats": {
        "max_hp": 220,
        "max_stamina": 160,
        "attack": 80,
        "defense": 35,
        "cultivation": 8,
        "speed": 75
      },
      "skills": [
        {
          "skill_id": "phantom_strike",
          "name": "å¹»å½±çªè¢­",
          "damage": 110,
          "stamina_cost": 35,
          "effects": [
            { "type": "guaranteed_hit", "description": "æ— æ³•é—ªé¿" }
          ],
          "cooldown": 2
        },
        {
          "skill_id": "vanish",
          "name": "æ¶ˆå¤±",
          "damage": 0,
          "stamina_cost": 40,
          "effects": [
            { "type": "evasion", "value": 0.8, "duration": 1 }
          ],
          "cooldown": 4
        }
      ],
      "ai_pattern": "evasive",
      "drop_rewards": {
        "experience": 700,
        "gold": 3000,
        "items": [
          { "item_id": "item_spirit_stone", "chance": 0.7 },
          { "item_id": "item_speed_boots", "chance": 0.4 }
        ]
      }
    }
  ],

  "battle_ui": {
    "display_elements": [
      "player_hp_bar",
      "player_stamina_bar",
      "enemy_hp_bar",
      "battle_log",
      "action_buttons",
      "skill_list",
      "item_list"
    ],
    "animation_text_enabled": true,
    "auto_battle_option": false,
    "battle_speed_options": ["normal", "fast", "instant"]
  },

  "status_effects": [
    {
      "effect_id": "burn",
      "name": "ç¼çƒ§",
      "type": "damage_over_time",
      "description": "æ¯å›åˆå—åˆ°ç«ç„°ä¼¤å®³",
      "icon": "ğŸ”¥"
    },
    {
      "effect_id": "stun",
      "name": "çœ©æ™•",
      "type": "control",
      "description": "æ— æ³•è¡ŒåŠ¨",
      "icon": "ğŸ’«"
    },
    {
      "effect_id": "bleed",
      "name": "æµè¡€",
      "type": "damage_over_time",
      "description": "æ¯å›åˆå¤±è¡€",
      "icon": "ğŸ©¸"
    },
    {
      "effect_id": "shield",
      "name": "æŠ¤ç›¾",
      "type": "buff",
      "description": "å¸æ”¶ä¼¤å®³",
      "icon": "ğŸ›¡ï¸"
    },
    {
      "effect_id": "cultivation_boost",
      "name": "ä¿®ä¸ºæå‡",
      "type": "buff",
      "description": "æå‡æ”»å‡»åŠ›",
      "icon": "âš¡"
    },
    {
      "effect_id": "defending",
      "name": "é˜²å¾¡å§¿æ€",
      "type": "buff",
      "description": "å‡å°‘å—åˆ°çš„ä¼¤å®³",
      "icon": "ğŸ›¡ï¸"
    }
  ],

  "battle_rewards": {
    "experience_formula": "base_exp * (1 + level_diff * 0.1)",
    "gold_formula": "base_gold * random(0.8, 1.2)",
    "reputation_on_victory": true,
    "special_rewards_on_perfect_victory": true
  },

  "battle_conditions": {
    "victory": [
      "enemy_hp_zero",
      "enemy_surrender",
      "objective_completed"
    ],
    "defeat": [
      "player_hp_zero",
      "time_limit_exceeded",
      "objective_failed"
    ],
    "draw": [
      "max_rounds_reached",
      "mutual_knockout"
    ]
  }
}
